---
export const prerender = true;


import BookLayout from "../layouts/BookLayout.astro";
import FloatingAddButton from "../components/FloatingAddButton.astro";
import AddFishModal from "../components/AddFishModal.astro";


const BASE = import.meta.env.BASE_URL;
const PUBLIC_SUPABASE_URL = import.meta.env.PUBLIC_SUPABASE_URL;
const PUBLIC_SUPABASE_ANON_KEY = import.meta.env.PUBLIC_SUPABASE_ANON_KEY;
const PUBLIC_SUPABASE_BUCKET = import.meta.env.PUBLIC_SUPABASE_BUCKET ?? "";
---

<BookLayout title="Mi Libro de Acuarios">

  <!-- Página izquierda -->
  <div slot="left" id="left-page">
    <!-- Se rellena por JS -->
  </div>

  <!-- Página derecha -->
  <div slot="right" class="image-page" id="right-page">
    <!-- Se rellena por JS -->
  </div>

  <!-- Navegación -->
  <nav slot="nav" class="book-nav">
    <a href="#" class="prev" id="nav-prev">← Anterior</a>
    <a href="#" class="next" id="nav-next">Siguiente →</a>
  </nav>

  <!-- UI -->
  <div slot="ui">
    <FloatingAddButton />
    <AddFishModal />

    <!-- Config cliente -->
    <div
      id="app-config"
      data-base={BASE}
      data-url={PUBLIC_SUPABASE_URL}
      data-key={PUBLIC_SUPABASE_ANON_KEY}
      data-bucket={PUBLIC_SUPABASE_BUCKET}>
    </div>

    <script type="module" src={`${BASE}scripts/app.js`}></script>
    <script type="module" src={`${BASE}scripts/fab.js`}></script>
  </div>

</BookLayout>
<!-- Templates SPA -->
<template id="tpl-index">
  <div class="index-cover">
    <h2>Índice de especies</h2>
    <ul class="fish-index"></ul>
  </div>
</template>

<template id="tpl-fish">
  <div class="page-content"></div>
</template>

